<html>
  <head>
    <script
      src="https://cdn.socket.io/4.3.2/socket.io.min.js"
      integrity="sha384-KAZ4DtjNhLChOB/hxXuKqhMLYvx3b5MlT55xPEiNmREKRzeEm+RVPlTnAn0ajQNs"
      crossorigin="anonymous"
    ></script>
    <script>
      //const url = 'wss://api.dev.shoppex.net/ShoppexOrder';
       const url = 'ws://localhost:8080/ShoppexOrder';

      const socket = io(url, {
        transports: ['websocket', 'polling'],
        auth: {
          Authorization: `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MzRiMjY0MDA3YWE0NjgyNjkyNjViM2MiLCJkYXRlT2ZCaXJ0aCI6IjIwMjItMTAtMTVUMjE6Mjg6MDkuNzY0WiIsImJhbGFuY2UiOjAsInN0YXR1cyI6ImFjdGl2ZSIsInJvbGUiOnsibmFtZUFyYWJpYyI6Itin2YTYudmF2YrZhCIsIm5hbWVFbmdsaXNoIjoiQ2xpZW50IiwicGVybWlzc2lvbnMiOlt7InZhbHVlIjoiQG1lcmNoYW50LWJyYW5jaC9yZWFkIiwibGFiZWxBcmFiaWMiOiLZgtix2KfYqSDYp9mE2YHYsdi5IiwibGFiZWxFbmdsaXNoIjoiUmVhZCBCcmFuY2gifSx7InZhbHVlIjoiQGRlcGFydG1lbnQvcmVhZCIsImxhYmVsQXJhYmljIjoi2YLYsdij2Kkg2YLYs9mFIiwibGFiZWxFbmdsaXNoIjoiUmVhZCBEZXBhcnRtZW50In0seyJ2YWx1ZSI6IkBtZXJjaGFudC9yZWFkIiwibGFiZWxBcmFiaWMiOiLZgtix2KfYqSDYp9mE2YXYqtis2LEiLCJsYWJlbEVuZ2xpc2giOiJSZWFkIE1lcmNoYW50In0seyJ2YWx1ZSI6IkBwcm9kdWN0L3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ih2Kkg2YXZhtiq2KwiLCJsYWJlbEVuZ2xpc2giOiJSZWFkIn0seyJ2YWx1ZSI6IkBwcm9kdWN0LWdyb3VwL3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINmB2KbYp9iqINin2YTZhdmG2KrYrCIsImxhYmVsRW5nbGlzaCI6IlJlYWQgcHJvZHVjdCBncm91cCJ9LHsidmFsdWUiOiJAdGFnL3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINin2YTYudmE2KfZhdin2KoiLCJsYWJlbEVuZ2xpc2giOiJSZWFkIHRhZyJ9LHsidmFsdWUiOiJAb25ib2FyZGluZy9yZWFkIiwibGFiZWxBcmFiaWMiOiLZgtix2KfYqSAiLCJsYWJlbEVuZ2xpc2giOiJSZWFkIG9uYm9hcmRpbmcifSx7InZhbHVlIjoiQHJlc2VydmF0aW9uL3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINin2YTYrdis2LIiLCJsYWJlbEVuZ2xpc2giOiJSZWFkIHJlc2VydmF0aW9uIn0seyJ2YWx1ZSI6IkBjb3VudHJ5L3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINin2YTYr9mI2YTYqSIsImxhYmVsRW5nbGlzaCI6IlJlYWQgQ291bnRyeSJ9LHsidmFsdWUiOiJAY2F0ZWdvcnkvcmVhZCIsImxhYmVsQXJhYmljIjoi2YLYsdin2Kkg2KfZhNi12YbZgSIsImxhYmVsRW5nbGlzaCI6IlJlYWQgQ2F0ZWdvcnkifSx7InZhbHVlIjoiQHRyYW5zYWN0aW9uL3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINin2YTYr9mB2Lkg2Ygg2KfZhNiq2K3ZiNmK2YTYp9iqIiwibGFiZWxFbmdsaXNoIjoiUmVhZCB0cmFuc2FjdGlvbiJ9LHsidmFsdWUiOiJAU2hvcHBleC9yZWFkIiwibGFiZWxBcmFiaWMiOiLZgtix2KfYqSDYtNmI2KjZg9izIiwibGFiZWxFbmdsaXNoIjoiUmVhZCBTaG9wcGV4In0seyJ2YWx1ZSI6IkBvcmRlci9jcmVhdGUiLCJsYWJlbEFyYWJpYyI6Itin2YbYtNin2KEg2LfZhNioIiwibGFiZWxFbmdsaXNoIjoiQ3JlYXRlIE9yZGVyIn0seyJ2YWx1ZSI6IkBvcmRlci91cGRhdGUiLCJsYWJlbEFyYWJpYyI6Itiq2LnYr9mK2YQg2LfZhNioIiwibGFiZWxFbmdsaXNoIjoiVXBkYXRlIE9yZGVyIn0seyJ2YWx1ZSI6IkBvcmRlci9kZWxldGUiLCJsYWJlbEFyYWJpYyI6Itit2LDZgSDYt9mE2KgiLCJsYWJlbEVuZ2xpc2giOiJEZWxldGUgT3JkZXIifSx7InZhbHVlIjoiQG9yZGVyL3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINi32YTYqCIsImxhYmVsRW5nbGlzaCI6IlJlYWQgT3JkZXIifSx7InZhbHVlIjoiQGRpc2NvdW50L3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINin2YTYrti12YUiLCJsYWJlbEVuZ2xpc2giOiJSZWFkIGRpc2NvdW50In0seyJ2YWx1ZSI6IkB0aWNrZXQtdGFnL3JlYWQiLCJsYWJlbEFyYWJpYyI6ItmC2LHYp9ipINi02LnYp9ixINin2YTYqtiw2KfZg9ixIiwibGFiZWxFbmdsaXNoIjoiUmVhZCB0aWNrZXQtdGFnIn0seyJ2YWx1ZSI6IkB0aWNrZXQtdGFnLXJlYXNvbi9yZWFkIiwibGFiZWxBcmFiaWMiOiLZgtix2KfYqSDYp9iz2KjYp9ioINin2YTYtNi52KfYsSDYp9mE2KrYsNin2YPYsSIsImxhYmVsRW5nbGlzaCI6IlJlYWQgdGlja2V0LXRhZy1yZWFzb24ifSx7InZhbHVlIjoiQHJhdGluZy1zY2FsZS9yZWFkIiwibGFiZWxBcmFiaWMiOiLZgtix2KfYqSDZhdmC2YrYp9izINin2YTYqti12YbZitmBIiwibGFiZWxFbmdsaXNoIjoiUmVhZCByYXRpbmctc2NhbGUifV19LCJuYW1lIjoiYWxpIiwiY291bnRyeUNvZGUiOiIrMjAiLCJtb2JpbGUiOiIxMDE3NDMxNzY3IiwiZW1haWwiOiJhbGkuZ2FtYWw5NTg4MEBnbWFpbC5jb20iLCJjaXR5SWQiOiI2MzQ1ZWY4MjFhMjJhMGI2NjFiMzdlOGQiLCJjb3VudHJ5SWQiOiI2MzQ1ZWY3MDRhYzY3YzEwNTdkYjE3NjYiLCJ1dWlkIjoiZjY3YmVjOGEtZjUxZC00NjAyLTkwZmYtZjRlN2IxNWFkMTJiIiwibW9iaWxlSXNWZXJpZmllZCI6dHJ1ZSwiZW1haWxJc1ZlcmlmaWVkIjpmYWxzZSwiZ2VuZGVyIjoibWFsZSIsInR5cGUiOiJDbGllbnQiLCJpc0RlbGV0ZWQiOmZhbHNlLCJjcmVhdGVkQXQiOiIyMDIyLTEwLTE1VDIxOjI5OjM2LjA0N1oiLCJ1cGRhdGVkQXQiOiIyMDIyLTEwLTE1VDIzOjQyOjQwLjE5NFoiLCJfX3YiOjAsImFkZHJlc3MiOltdLCJpYXQiOjE2NjcyMjM3MjZ9.AdZrAmCA3P_SWaGvmn3S1sJFo41aEb13snlfUPGNe0s`,
        },
      });

      socket.on('connect', function (client) {
        console.log('Branch Connected');

        socket.emit('join', { roomId: 'branch_6346ea728231ea4240db0021' }); // to join the room
      });

      socket.on('new-order', data => {
        console.log('data1=', data);
        // socket.emit('leave', { roomId: 'branch_62a4b61a33d2cc3c073d28ce' }); // to leave the room
      });

      socket.on('events', function (data) {
        console.log('event', data);
      });
      socket.on('exception', function (data) {
        console.log('event', data);
      });
      socket.on('disconnect', function () {
        console.log('Branch Disconnected');
      });
    </script>
  </head>

  <body></body>
</html>
